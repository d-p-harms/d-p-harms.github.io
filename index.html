// BART Task Configuration
const MAX_PUMPS = 128;  // Maximum possible pumps per balloon
const NUM_TRIALS = 10;   // Total number of balloons
const POP_PROBABILITIES = [];  // Will be calculated on initialization

// Calculate pop probabilities for each pump - redesigned for longer play
function initializePopProbabilities() {
    // First 15 pumps have extremely low probability (almost safe zone)
    for (let i = 1; i <= 15; i++) {
        POP_PROBABILITIES[i] = 0.01; // Fixed 1% chance
    }
    
    // Pumps 16-30 have gradually increasing but still low probability
    for (let i = 16; i <= 30; i++) {
        // Gradually increase from 1% to 5%
        POP_PROBABILITIES[i] = 0.01 + (i - 15) * 0.003;
    }
    
    // Pumps 31-60 have moderate probability
    for (let i = 31; i <= 60; i++) {
        // Gradually increase from 5% to 15%
        POP_PROBABILITIES[i] = 0.05 + (i - 30) * 0.0033;
    }
    
    // Pumps 61+ have higher probability
    for (let i = 61; i <= MAX_PUMPS; i++) {
        // Gradually increase from 15% to 60% at the maximum
        POP_PROBABILITIES[i] = 0.15 + (i - 60) * 0.0066;
    }
    
    // Log some sample probabilities for verification
    console.log("Pump 5 probability:", POP_PROBABILITIES[5]);
    console.log("Pump 20 probability:", POP_PROBABILITIES[20]);
    console.log("Pump 40 probability:", POP_PROBABILITIES[40]);
    console.log("Pump 80 probability:", POP_PROBABILITIES[80]);
}
